<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>VidNail</title>
</head>
<body>
  <h1>이제 동영상과 썸네일을 한 번에 다운로드!</h1>

  <input id="url" type="text" placeholder="YouTube URL 입력" style="width:300px">
  <button id="download-video">비디오 다운로드</button>
  <button id="download-thumb">썸네일 다운로드</button>

  <script>
    // 백엔드 서버 주소
    const SERVER = 'http://15.164.202.136:5000';

    // 버튼 가져오기
    const btnVideo = document.getElementById('download-video');
    const btnThumb = document.getElementById('download-thumb');

    btnVideo.addEventListener('click', () => {
      const raw = document.getElementById('url').value.trim();
      if (!raw) return alert('URL을 입력해주세요.');
      const encoded = encodeURIComponent(raw);
      const href = `${SERVER}/download/video?url=${encoded}&quality=highest`;
      // 파일 다운로드 트리거
      const a = document.createElement('a');
      a.href = href;
      a.click();
    });

    btnThumb.addEventListener('click', () => {
      const raw = document.getElementById('url').value.trim();
      if (!raw) return alert('URL을 입력해주세요.');
      const encoded = encodeURIComponent(raw);
      const href = `${SERVER}/download/thumbnail?url=${encoded}`;
      const a = document.createElement('a');
      a.href = href;
      a.click();
    });
  </script>
</body>
</html>
